!function e(t,r,i){function n(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var p=r[a]={exports:{}};t[a][0].call(p.exports,function(e){var r=t[a][1][e];return n(r?r:e)},p,p.exports,e,t,r,i)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),a=function(e,t,r){for(var i=!0;i;){var n=e,o=t,a=r;s=f=l=void 0,i=!1;var s=Object.getOwnPropertyDescriptor(n,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var f=Object.getPrototypeOf(n);if(null===f)return void 0;e=f,t=o,r=a,i=!0}},s=e("hls"),l=e("browser"),f=(e("./jst"),function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.firstPlayStartPosition=window.peer5?peer5.getConfig("MEDIA_LIVE_START_POS")||0:0,this.lowBufferLength=window.peer5?peer5.getConfig("MEDIA_LOWBUFFER")||3:3,this.minBufferLength=window.peer5?peer5.getConfig("MEDIA_MINBUFFER")||-1:-1,this.maxBufferLength=window.peer5?peer5.getConfig("MEDIA_MAXBUFFER")||30:30,this["native"]=window.peer5?peer5.getConfig("CLAPPR_NATIVE_FALLBACK")||!1:!1,window.peer5&&peer5.prefetch&&peer5.prefetch(this.src)}return n(t,e),o(t,[{key:"name",get:function(){return"hls"}},{key:"addListeners",value:function(){a(Object.getPrototypeOf(t.prototype),"addListeners",this).call(this),Clappr.Mediator.on(this.cid+":error",function(e,t,r){return peer5.flashls.trigger("error",[e,t,r])}),Clappr.Mediator.on(this.cid+":requestplaylist",function(e,t,r,i){return peer5.flashls.trigger("requestPlaylist",[e,t,r,i])}),Clappr.Mediator.on(this.cid+":abortplaylist",function(e){return peer5.flashls.trigger("abortPlaylist",[e])}),Clappr.Mediator.on(this.cid+":requestfragment",function(e,t,r,i){return peer5.flashls.trigger("requestFragment",[e,t,r,i])}),Clappr.Mediator.on(this.cid+":abortfragment",function(e){return peer5.flashls.trigger("abortFragment",[e])}),Clappr.Mediator.on(this.cid+":fpsdrop",function(e,t){return peer5.flashls.trigger("fpsDrop",[e,t])})}},{key:"stopListening",value:function(){a(Object.getPrototypeOf(t.prototype),"stopListening",this).call(this),Clappr.Mediator.off(this.cid+":error"),Clappr.Mediator.off(this.cid+":requestplaylist"),Clappr.Mediator.off(this.cid+":abortplaylist"),Clappr.Mediator.off(this.cid+":requestfragment"),Clappr.Mediator.off(this.cid+":abortfragment"),Clappr.Mediator.off(this.cid+":fpsdrop")}},{key:"setFlashSettings",value:function(){a(Object.getPrototypeOf(t.prototype),"setFlashSettings",this).call(this),this.el.playerSetJSURLStream(!0),this.el.playerSetlowBufferLength(this.lowBufferLength),this.el.playerSetminBufferLength(this.minBufferLength),this.el.playerSetmaxBufferLength(this.maxBufferLength)}},{key:"firstPlay",value:function(){var e=this;this.el&&this.el.CallFunction&&(this.setFlashSettings(),this.el.playerLoad(this.src),Clappr.Mediator.once(this.cid+":manifestloaded",function(){return e.el.playerPlay(e.firstPlayStartPosition)}),this.srcLoaded=!0)}}]),t}(s));f.canPlay=function(e,t){return window.peer5&&!(!window.webkitRTCPeerConnection&&!window.mozRTCPeerConnection)&&l.hasFlash&&window.btoa&&(!!e.match(/^http(.*)\.m3u8?/)||"application/x-mpegURL"===t)},t.exports=window.Peer5Playback=f},{"./jst":2,browser:"browser",hls:"hls"}],2:[function(e,t,r){"use strict";e("template");t.exports={CSS:{}}},{template:"template"}]},{},[1]);