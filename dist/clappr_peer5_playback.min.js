!function t(e,r,i){function o(a,s){if(!r[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(n)return n(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var p=r[a]={exports:{}};e[a][0].call(p.exports,function(t){var r=e[a][1][t];return o(r?r:t)},p,p.exports,t,e,r,i)}return r[a].exports}for(var n="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,r){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),a=function(t,e,r){for(var i=!0;i;){var o=t,n=e,a=r;s=f=l=void 0,i=!1;var s=Object.getOwnPropertyDescriptor(o,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(a)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;t=f,e=n,r=a,i=!0}},s=t("hls"),l=t("browser"),f=(t("./jst"),function(t){function e(t){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.firstPlayStartPosition=peer5.getConfig("MEDIA_LIVE_START_POS")||0,this.maxBufferLength=peer5.getConfig("MEDIA_MAXBUFFER")||30,this["native"]=peer5.getConfig("CLAPPR_NATIVE_FALLBACK")||!1}return o(e,t),n(e,[{key:"name",get:function(){return"hls"}},{key:"addListeners",value:function(){a(Object.getPrototypeOf(e.prototype),"addListeners",this).call(this);var t=this.cid;Clappr.Mediator.on(this.cid+":error",function(t,e,r){return peer5.flashls.trigger("error",[t,e,r])}),Clappr.Mediator.on(this.cid+":requestplaylist",function(e,r,i,o){return peer5.flashls.trigger("requestPlaylist",[t,r,i,o])}),Clappr.Mediator.on(this.cid+":abortplaylist",function(e){return peer5.flashls.trigger("abortPlaylist",[t])}),Clappr.Mediator.on(this.cid+":requestfragment",function(e,r,i,o){return peer5.flashls.trigger("requestFragment",[t,r,i,o])}),Clappr.Mediator.on(this.cid+":abortfragment",function(e){return peer5.flashls.trigger("abortFragment",[t])}),Clappr.Mediator.on(this.cid+":fpsdrop",function(t,e){return peer5.flashls.trigger("fpsdrop",[t,e])})}},{key:"stopListening",value:function(){a(Object.getPrototypeOf(e.prototype),"stopListening",this).call(this),Clappr.Mediator.off(this.cid+":error"),Clappr.Mediator.off(this.cid+":requestplaylist"),Clappr.Mediator.off(this.cid+":abortplaylist"),Clappr.Mediator.off(this.cid+":requestfragment"),Clappr.Mediator.off(this.cid+":abortfragment"),Clappr.Mediator.off(this.cid+":fpsdrop")}},{key:"setFlashSettings",value:function(){a(Object.getPrototypeOf(e.prototype),"setFlashSettings",this).call(this),this.el.playerSetJSURLStream(!0),this.el.playerSetmaxBufferLength(this.maxBufferLength)}},{key:"firstPlay",value:function(){var t=this;this.setFlashSettings(),this.el.playerLoad(this.src),Clappr.Mediator.once(this.cid+":manifestloaded",function(){return t.el.playerPlay(t.firstPlayStartPosition)}),this.srcLoaded=!0}}]),e}(s));f.canPlay=function(t,e){return!("undefined"==typeof peer5||!window.webkitRTCPeerConnection&&!window.mozRTCPeerConnection||!l.hasFlash||!window.btoa||!t.match(/^http(.*)\.m3u8?/)&&"application/x-mpegURL"!==e)},e.exports=window.Peer5Playback=f},{"./jst":2,browser:"browser",hls:"hls"}],2:[function(t,e,r){"use strict";t("template");e.exports={CSS:{}}},{template:"template"}]},{},[1]);